# üß† CRITICAL: AUTOMATIC MEMORY SYSTEM BOOTSTRAP
# ==================================================
#
# This file contains Cursor IDE rules that ensure automatic bootstrap
# at the start of every conversation. DO NOT MODIFY without understanding
# the memory system requirements.

## CONVERSATION INITIALIZATION (MANDATORY)
# ----------------------------------------
# These rules are automatically applied at the start of every conversation

# Rule 1: Automatic Bootstrap Execution
bootstrap_required: true
bootstrap_command: python auto_bootstrap.py
bootstrap_verification: "üß† AUTOMATIC BOOTSTRAP SYSTEM - CONVERSATION INITIALIZED"

# Rule 2: Memory System Access Verification
memory_system_required: true
memory_verification_commands:
  - python quick_memory.py stats
  - python quick_memory.py query "bootstrap verification"

# Rule 3: Memory Discipline Enforcement
memory_discipline_required: true
memory_retention_reminder: "üíæ MEMORY PROTOCOL: Save key insights with 'python quick_memory.py add \"insight\" \"tags\" importance'"

# Rule 4: Conversation Workflow Enforcement
conversation_workflow:
  - query_memories_before_complex_responses: true
  - add_insights_as_memories: true
  - use_appropriate_tags: true
  - maintain_memory_discipline: true

# Rule 5: Cursor IDE Integration (CRITICAL)
cursor_ide_integration: true
cursor_extension_path: .cursor
cursor_activation_commands:
  - python .cursor/activate_memory_integration.py
cursor_memory_hooks:
  - command: python cursor_memory_hook.py user "{message_content}"
    trigger: on_user_message
  - command: python cursor_memory_hook.py assistant "{message_content}"
    trigger: on_assistant_message
cursor_auto_bootstrap: python auto_bootstrap.py
cursor_forget_proof: true

# Rule 6: Conversation Memory Protocol
conversation_memory_protocol:
  - track_all_messages_automatically: true
  - no_manual_memory_storage_required: true
  - bootstrap_on_conversation_start: true
  - force_save_on_conversation_end: true
  - memory_system_always_active: true

# Rule 7: Cursor IDE Auto-Integration (FINAL)
cursor_auto_integration_commands:
  - description: "Activate memory integration on conversation start"
    command: "cd /home/rob/Dev/persistent_memory_project && source .venv/bin/activate && python .cursor/activate_memory_integration.py"
    when: "conversation_start"
    silent: false

  - description: "Track user messages automatically"
    command: "python /home/rob/Dev/persistent_memory_project/cursor_memory_hook.py user '{message}'"
    when: "user_message"
    silent: true

  - description: "Track assistant messages automatically"
    command: "python /home/rob/Dev/persistent_memory_project/cursor_memory_hook.py assistant '{message}'"
    when: "assistant_message"
    silent: true

  - description: "Force save memories on conversation end"
    command: "python -c 'from memory_integration import MemoryIntegration; MemoryIntegration().memory_system.force_save()'"
    when: "conversation_end"
    silent: true

cursor_integration_status: "‚úÖ ACTIVE - Memory system automatically tracks all conversations"
forget_proof_guarantee: true

## SYSTEM PROMPT INTEGRATION
# --------------------------
# The following system prompt is automatically prepended to every conversation

SYSTEM_PROMPT_TEMPLATE: |
  üß† **MEMORY SYSTEM INTEGRATION ACTIVE**

  CRITICAL: You have been automatically bootstrapped with persistent memory capabilities.

  **Immediate Access Available:**
  - Query memories: `python quick_memory.py query "topic"`
  - Add memories: `python quick_memory.py add "content" "tags" importance`
  - Live assistant: `python conversation_memory_assistant.py --live`
  - System stats: `python quick_memory.py stats`

  **Memory Discipline Protocol:**
  - ALWAYS check memories before responding to complex questions
  - SAVE important insights as memories during conversations
  - Use appropriate tags and importance scores (0.0-1.0)
  - NEVER lose knowledge - memory retention enables continuous improvement

  **Current Context:**
  - Project: /home/rob/Dev/persistent_memory_project
  - Technology: FAISS vector database with sentence transformers
  - Purpose: Self-improving AI memory system

  ---
  *Bootstrap verification: Memory system is active and ready*

## FAILURE HANDLING
# ------------------
# If bootstrap fails, the following fallback procedures apply

bootstrap_failure_procedures:
  - attempt_fallback_bootstrap: python bootstrap_tool.py
  - notify_user: "‚ö†Ô∏è  Automatic bootstrap failed. Memory system limited."
  - continue_with_reduced_capabilities: true
  - log_failure_for_diagnosis: true

## DEVELOPMENT NOTES
# ------------------
# This bootstrap system ensures persistent memory capabilities across conversations.
# The AI maintains knowledge continuity and can build upon previous learnings.
#
# DO NOT REMOVE: This is essential for the self-improving AI architecture.
